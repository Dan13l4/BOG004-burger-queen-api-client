{"ast":null,"code":"var _jsxFileName = \"/Users/paolahuyo/PROYECTOS-LABORATORIA/BOG004-burger-queen-api-client/src/components/CartOrder.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { createOrder } from \"../api/Products\";\nimport Cart from \"./Cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CartOrder = _ref => {\n  _s();\n\n  let {\n    selectedProduct,\n    setSelectedProduct,\n    setVSumTotal,\n    vSumTotal\n  } = _ref;\n  const [customerName, setCustomerName] = useState(\"\");\n  const [order, SetOrders] = useState({\n    products: []\n  });\n\n  const createOrderCart = async () => {\n    SetOrders({ ...order,\n      client: customerName ? customerName : \"cliente\",\n      products: selectedProduct ? selectedProduct.map(el => {\n        var rObj = {};\n        rObj.productId = el._id;\n        rObj.qty = el.qty;\n        return rObj;\n      }) : []\n    });\n    console.log(order);\n    await createOrder(order).then(response => console.log(response.data));\n  };\n\n  const handleIncreaseProduct = id => {\n    const newProduct = selectedProduct.filter(product => product._id === id);\n\n    if (newProduct[0].qty >= 1) {\n      const newSelectedProducts = selectedProduct.map(product => {\n        if (product._id === id) product.qty++;\n        product.priceNew = product.qty * product.price;\n        setVSumTotal(vSumTotal + product.priceNew);\n        product.productId = product._id;\n        return product;\n      });\n      setSelectedProduct(newSelectedProducts);\n    }\n  };\n\n  const handleDecreaseProduct = id => {\n    const newProduct = selectedProduct.filter(product => product._id === id);\n\n    if (newProduct[0].qty > 1) {\n      const newProducts = selectedProduct.map(product => {\n        if (product._id === id) product.qty--;\n        product.priceNew = product.qty * product.price;\n        product.productId = product._id;\n        return product;\n      });\n      setSelectedProduct(newProducts);\n    }\n  };\n\n  const handleDeleteProduct = id => {\n    const newProduct = selectedProduct.filter(product => product._id === id);\n\n    if (newProduct[0].qty === 1) {\n      const newProducts = selectedProduct.filter(product => product._id !== id);\n      setSelectedProduct(newProducts);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nombre del cliente: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setCustomerName(e.target.value),\n          type: \"text\",\n          placeholder: \"Ingresa el nombre del cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \" text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \" \",\n            children: [\"PRODUCT\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"|\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: [\"AMOUNT\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"|\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PRICE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Cart, {\n        selectedProduct: selectedProduct,\n        setSelectedProduct: setSelectedProduct,\n        handleDeleteProduct: handleDeleteProduct,\n        handleIncreaseProduct: handleIncreaseProduct,\n        handleDecreaseProduct: handleDecreaseProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" Total: $ \", vSumTotal]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"secondary\",\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"secondary\",\n        onClick: () => createOrderCart(),\n        children: \"Mandar a la cocina\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CartOrder, \"WxSJQzT3/iNCBbSKAf5C+YtgZls=\");\n\n_c = CartOrder;\nexport default CartOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartOrder\");","map":{"version":3,"names":["useState","createOrder","Cart","CartOrder","selectedProduct","setSelectedProduct","setVSumTotal","vSumTotal","customerName","setCustomerName","order","SetOrders","products","createOrderCart","client","map","el","rObj","productId","_id","qty","console","log","then","response","data","handleIncreaseProduct","id","newProduct","filter","product","newSelectedProducts","priceNew","price","handleDecreaseProduct","newProducts","handleDeleteProduct","e","target","value"],"sources":["/Users/paolahuyo/PROYECTOS-LABORATORIA/BOG004-burger-queen-api-client/src/components/CartOrder.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { createOrder } from \"../api/Products\"\nimport Cart from \"./Cart\"\n\nconst CartOrder = ({ selectedProduct, setSelectedProduct, setVSumTotal, vSumTotal}) => {\n\n    const [customerName, setCustomerName] = useState(\"\");\n    const [order, SetOrders] = useState({\n        products: [],\n    });\n\n    const createOrderCart = async () => {\n        SetOrders({\n          ...order,\n          client: customerName ? customerName : \"cliente\",\n          products: selectedProduct\n            ? selectedProduct.map((el) => {\n                var rObj = {};\n                rObj.productId = el._id;\n                rObj.qty = el.qty;\n                return rObj;\n              })\n            : [],\n        });\n        console.log(order);\n\n        await createOrder(order).then((response) =>\n        console.log(response.data)\n        );\n    };\n\n    const handleIncreaseProduct = (id) => {\n        const newProduct = selectedProduct.filter((product) => product._id === id);\n        if (newProduct[0].qty >= 1) {\n          const newSelectedProducts = selectedProduct.map((product) => {\n            if (product._id === id) product.qty++;\n            product.priceNew = product.qty * product.price;\n            setVSumTotal(vSumTotal+ product.priceNew);\n            product.productId = product._id;\n            \n            return product;\n          });\n          setSelectedProduct(newSelectedProducts);\n        }\n        \n    \n      };\n    \n      const handleDecreaseProduct = (id) => {\n        const newProduct = selectedProduct.filter((product) => product._id === id);\n        if (newProduct[0].qty > 1) {\n    \n          const newProducts = selectedProduct.map((product) => {\n            if (product._id === id) product.qty--;\n            product.priceNew = product.qty * product.price;\n            \n            product.productId = product._id;\n            return product;\n          });\n          setSelectedProduct(newProducts);\n        }\n      };\n    \n      const handleDeleteProduct = (id) => {\n        const newProduct = selectedProduct.filter((product) => product._id === id);\n        if (newProduct[0].qty === 1) {\n          const newProducts = selectedProduct.filter(\n            (product) => product._id !== id\n          );\n          setSelectedProduct(newProducts);\n        }\n      };\n    return(\n        <div>\n        <div>\n          <div>\n            <p>Nombre del cliente: {}</p>\n            <input\n              onChange={(e) => setCustomerName(e.target.value)}\n              type={\"text\"}\n              placeholder={\"Ingresa el nombre del cliente\"}\n            />\n          </div>\n        </div>\n      \n\n      <table>\n        <thead>\n          <tr className=\" text-center\">\n            <th className=\" \">\n              PRODUCT\n              <span>|</span>\n            </th>\n            <th>\n              AMOUNT\n              <span>|</span>\n            </th>\n            <th>PRICE</th>\n          </tr>\n        </thead>\n\n        <Cart\n          selectedProduct={selectedProduct}\n          setSelectedProduct={setSelectedProduct}\n          handleDeleteProduct={handleDeleteProduct}\n          handleIncreaseProduct={handleIncreaseProduct}\n          handleDecreaseProduct={handleDecreaseProduct}\n         \n        />\n      </table>\n\n      <div> Total: $ {vSumTotal}</div>\n\n      <div className=\"flex flex-row\">\n        <button type={\"secondary\"}>Cancelar</button>\n        <button type={\"secondary\"} onClick={() => createOrderCart()}>Mandar a la cocina</button>\n      </div>\n    </div>\n    )\n}\n\nexport default CartOrder;"],"mappings":"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"},"metadata":{},"sourceType":"module"}